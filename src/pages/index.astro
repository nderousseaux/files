---
import { getCollection } from "astro:content";
import FileLayout from "@/layouts/FileLayout.astro";
import { SITE } from "@/config";

const allFiles = await getCollection("file");
const files = allFiles.filter(file => !file.data.hidden);
---

<FileLayout title={SITE.title}>
  <section class="py-8 text-center">
    <h1 class="text-4xl font-bold mb-8">Fichiers</h1>
    
    {files.length === 0 ? (
      <p class="text-muted">Aucun fichier disponible.</p>
    ) : (
      <ul class="space-y-4">
        {files.map(file => (
          <li>
            <a 
              href={`/${file.data.slug}`}
              class="text-lg hover:text-accent"
            >
              {file.data.title}
            </a>
          </li>
        ))}
      </ul>
    )}
  </section>
</FileLayout>
